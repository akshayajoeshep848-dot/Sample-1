<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Promises</title>
  </head>
  <body>
    <h1>JS Promises</h1>
    <script>
      const myPromise = new Promise((resolve, reject) => {
        setTimeout(() => {
          const success = true; //Math.random > 0.5;
          success
            ? resolve("Data sucessfully fetched")
            : reject(new Error("Failed to fetch data."));
        }, 2000);
      });
      // console.log(myPromise);

      // const p1 = Promise.resolve("Success");
      // console.log(p1);

      myPromise
        .then((value) => console.log(value))
        .catch((error) => console.log(error));

      function fetchData() {
        return new Promise((resolve) => {
          setTimeout(() => resolve("User Data"), 2000);
        });
      }

      function processData(data) {
        return new Promise((resolve) => {
          setTimeout(() => resolve(data.toUpperCase()), 2000);
        });
      }

      fetchData()
        .then((userData) => {
          console.log("Step 1:", userData);
          return processData(userData);
        })
        .then((processedData) => {
          console.log("Step 2:", processedData);
        })
        .catch((error) => console.log(error));
    </script>
  </body>
</html>
